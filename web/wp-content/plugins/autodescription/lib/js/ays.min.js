'use strict';window.tsfAys=function(a){const b="undefined"!=typeof tsfAysL10n&&tsfAysL10n;let c=!1,d=!1;const e=()=>c,f=a=>a instanceof Element?a:Array.isArray(a)?a.join(", "):a,g=()=>{c=!0},h=()=>{c=!1},i=()=>{d&&(h(),p())},j=()=>{let a=e();h(),setTimeout(()=>{i(),a&&g()},1e3)},k=a=>{g(),a&&l(a)},l=b=>{a(b.data._input).not(b.data._except).off(b.type,k)},m=(b,c)=>{b=f(b),a(b).not(".tsf-input-not-saved").off(c+".tsfChangeListener").on(c+".tsfChangeListener",{_input:b,_except:".tsf-input-not-saved"},k)},n=(b,c)=>{a(f(b)).off(c+".tsfChangeListener").on(c+".tsfChangeListener",i)},o=(b,c)=>{a(f(b)).off(c+".tsfChangeListener").on(c+".tsfChangeListener",j)},p=()=>{m([".tsf-metaboxes :input","#tsf-inpost-box .inside :input",".tsf-term-meta :input"],"change"),m([".tsf-metaboxes input[type=text]",".tsf-metaboxes textarea","#tsf-inpost-box .inside input[type=text]","#tsf-inpost-box .inside textarea",".tsf-term-meta input[type=text]",".tsf-term-meta textarea"],"input"),n(document,"tsf-gutenberg-onsave"),o([".tsf-metaboxes input[type=\"submit\"]","#publishing-action input[type=\"submit\"]","#save-action input[type=\"submit\"]","a.submitdelete",".edit-tag-actions input[type=\"submit\"]",".edit-tag-actions .delete"],"click"),a(document).trigger("tsf-registered-ays-listeners"),d=!0},q=()=>{p(),e()&&console.log("tsfAys: Doing it wrong! Settings were changed prior ready-state. Debug me."),h(),a(window).on("beforeunload.tsfChangeListener",()=>{if(e())return b.i18n.saveAlert})};return Object.assign({load:()=>{a(document.body).on("tsf-ready",q)}},{reset:i,getChangedState:e,registerChange:g,deregisterChange:h,registerChangeListener:m,registerResetListener:n,registerUnloadListener:o,reloadDefaultListeners:p},{l10n:b})}(jQuery),jQuery(window.tsfAys.load);
