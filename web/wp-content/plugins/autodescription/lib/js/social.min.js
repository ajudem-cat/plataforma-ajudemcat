'use strict';window.tsfSocial=function(a){const b="undefined"!=typeof tsfSocialL10n&&tsfSocialL10n;let c={ogDescPlaceholder:b.states.placeholders.ogDesc,twDescPlaceholder:b.states.placeholders.twDesc};const d=a=>a?a in c?c[a]:void 0:c;return Object.assign({load:()=>{}},{initTitleInputs:c=>{let d=a(c.og),e=a(c.tw),f=a(c.ref),g=a(c.meta);if(!d.length||!e.length||!g.length||!f.length)return;let h=b.params.homeLocks.ogTitleLock,i=b.params.homeLocks.ogTitlePHLock,j=b.params.homeLocks.twTitleLock,k=b.params.homeLocks.twTitlePHLock,l=h?d.attr("placeholder"):d.val(),m=j?e.attr("placeholder"):e.val(),n=f.html();const o=a=>{let b="";switchActive:switch(a){case"twitter":if(b=m,j||k){b=b.length?b:e.attr("placeholder");break switchActive}case"og":if(b=b.length?b:l,h||i){b=b.length?b:d.attr("placeholder");break switchActive}case"meta":case"ref":b=b.length?b:n;}return b},p=()=>{h||i||d.attr("placeholder",tsf.decodeEntities(o("meta"))),j||k||e.attr("placeholder",tsf.decodeEntities(o("og")))},q=(a,b,c)=>{let d=document.getElementById(a.id+"_chars");d&&tsfC.updateCharacterCounter({e:d,text:b,field:"title",type:c})};let r=0;const s=()=>{clearTimeout(r),r=setTimeout(()=>{d.each((a,b)=>q(b,o("og"),"opengraph")),e.each((a,b)=>q(b,o("twitter"),"twitter"))},10)};f.on("change.tsfUpdateRefTitle",()=>{n=f.html(),p(),s()});d.on("input.tsfUpdateOgTitle",a=>{if(!h){let b=a.target.value.trim();l=b.length?tsf.sDoubleSpace(b):""}p(),s()}),e.on("input.tsfUpdateTwTitle",a=>{if(!j){let b=a.target.value.trim();m=b.length?tsf.sDoubleSpace(b):""}p(),s()})},initDescriptionInputs:d=>{let e=a(d.og),f=a(d.tw),g=a(d.meta),h=a(d.ref);if(!e.length||!f.length||!g.length||!h.length)return;let i=b.params.homeLocks.ogDescriptionLock,j=b.params.homeLocks.ogDescriptionPHLock,k=b.params.homeLocks.twDescriptionLock,l=b.params.homeLocks.twDescriptionPHLock,m=i?e.attr("placeholder"):e.val(),n=k?f.attr("placeholder"):f.val(),o=h.html();const p=(a,b)=>{let d="";switchActive:switch(a){case"twitter":if(d=n,k||l){d=d.length?d:f.attr("placeholder");break switchActive}case"og":if(d=d.length?d:m,i||j){d=d.length?d:e.attr("placeholder");break switchActive}case"meta":d.length||g.val().length||("twitter"===b?d=c.twDescPlaceholder:"og"==b&&(d=c.ogDescPlaceholder));case"ref":d=d.length?d:o;}return d},q=()=>{i||j||e.attr("placeholder",tsf.decodeEntities(p("meta","og"))),k||l||f.attr("placeholder",tsf.decodeEntities(p("og","twitter")))},r=(a,b,c)=>{let d=document.getElementById(a.id+"_chars");d&&tsfC.updateCharacterCounter({e:d,text:b,field:"description",type:c})};let s=0;const t=()=>{clearTimeout(s),s=setTimeout(()=>{e.each((a,b)=>r(b,p("og","og"),"opengraph")),f.each((a,b)=>r(b,p("twitter","twitter"),"twitter"))},10)};h.on("change.tsfUpdateRefDesc",()=>{o=h.html(),q(),t()});e.on("input.tsfUpdateOgDesc",a=>{if(!i){let b=a.target.value.trim();m=b.length?tsf.sDoubleSpace(b):""}q(),t()}),f.on("input.tsfUpdateTwDesc",a=>{if(!k){let b=a.target.value.trim();n=b.length?tsf.sDoubleSpace(b):""}q(),t()})},getState:d,updateState:(a,b)=>{switch(c[a]=b,a){case"ogDescPlaceholder":case"twDescPlaceholder":break;default:}}},{l10n:b})}(jQuery),jQuery(window.tsfSocial.load);
